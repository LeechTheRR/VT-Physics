PROJECT(VPLibs-model)

FIND_PACKAGE(CUDAToolkit)
FIND_PACKAGE(assimp CONFIG REQUIRED)
FIND_PACKAGE(spdlog CONFIG REQUIRED)
FIND_PACKAGE(nlohmann_json CONFIG REQUIRED)

FILE(GLOB_RECURSE LIB_MODEL_HEADER_FILES
        ${VP_LIB_ROOT}/Include/Model/*.hpp
)
FILE(GLOB_RECURSE LIB_MODEL_SRC_FILES
        ${VP_LIB_ROOT}/Source/Model/*.cpp
)

ADD_LIBRARY(vpmodel STATIC ${LIB_MODEL_HEADER_FILES} ${LIB_MODEL_SRC_FILES})
TARGET_LINK_LIBRARIES(vpmodel PUBLIC assimp::assimp)
TARGET_LINK_LIBRARIES(vpmodel PRIVATE vpjson CUDA::cudart vplogger)
TARGET_INCLUDE_DIRECTORIES(vpmodel PUBLIC ${VP_RUNTIME_ROOT}/Include)